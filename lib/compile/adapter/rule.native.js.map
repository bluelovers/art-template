{"version":3,"sources":["../../../src/compile/adapter/rule.native.js"],"names":["nativeRule","test","use","match","comment","output","code","module","exports"],"mappings":";;AAAA;;;AAGA,IAAMA,aAAa;AACfC,UAAM,qDADS;AAEfC,SAAK,aAACC,KAAD,EAAQC,OAAR,EAAiBC,MAAjB,EAAyBC,IAAzB,CAA8B,cAA9B,EAAiD;AAClDD,iBAAS;AACL,iBAAK,KADA;AAEL,iBAAK,QAFA;AAGL,gBAAI,KAHC;AAIL;AACA,kBAAM,KALD;AAML,kBAAM;AAND,UAOPA,MAPO,CAAT;;AASA;AACA,YAAID,OAAJ,EAAa;AACTE,0BAAYA,IAAZ;AACAD,qBAAS,KAAT;AACH;;AAED;AACA;;AAEA,eAAO;AACHC,sBADG;AAEHD;AAFG,SAAP;AAIH;AAzBc,CAAnB;;AA4BAE,OAAOC,OAAP,GAAiBR,UAAjB","file":"rule.native.js","sourcesContent":["/**\n * 原生模板语法规则\n */\nconst nativeRule = {\n    test: /<%(#?)((?:==|=#|[=-])?)[ \\t]*([\\w\\W]*?)[ \\t]*(-?)%>/,\n    use: (match, comment, output, code /*, trimMode*/) => {\n        output = {\n            '-': 'raw',\n            '=': 'escape',\n            '': false,\n            // v3 compat: raw output\n            '==': 'raw',\n            '=#': 'raw'\n        }[output];\n\n        // ejs compat: comment tag\n        if (comment) {\n            code = `/*${code}*/`;\n            output = false;\n        }\n\n        // ejs compat: trims following newline\n        // if (trimMode) {}\n\n        return {\n            code,\n            output\n        };\n    }\n};\n\nmodule.exports = nativeRule;\n"]}