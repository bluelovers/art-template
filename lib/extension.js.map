{"version":3,"sources":["../src/extension.js"],"names":["templatePath","require","resolve","extension","module","flnm","filename","imports","JSON","stringify","options","_compile","exports"],"mappings":";;AAAA,IAAMA,eAAeC,QAAQC,OAAR,CAAgB,YAAhB,CAArB;;AAEA;;;;;;AAMA,IAAMC,YAAY,SAAZA,SAAY,CAASC,MAAT,EAAiBC,IAAjB,EAAuB;AACrC,QAAMC,WAAWD,QAAQD,OAAOE,QAAhC;AACA,QAAMC,UAAU,0BAA0BC,KAAKC,SAAL,CAAeT,YAAf,CAA1B,GAAyD,GAAzE;AACA,QAAMU,UAAUF,KAAKC,SAAL,CAAe;AAC3BH,kBAAUA;AADiB,KAAf,CAAhB;;AAIAF,WAAOO,QAAP,CACIJ,UAAU,IAAV,GAAiB,oCAAjB,GAAwDG,OAAxD,GAAkE,IADtE,EAEIJ,QAFJ;AAIH,CAXD;;AAaAF,OAAOQ,OAAP,GAAiBT,SAAjB","file":"extension.js","sourcesContent":["const templatePath = require.resolve('./index.js');\n\n/**\n * require.extensions 扩展注册函数\n * 使用动态编译机制\n * @param {Object} module\n * @param {string} flnm\n */\nconst extension = function(module, flnm) {\n    const filename = flnm || module.filename;\n    const imports = 'var template=require(' + JSON.stringify(templatePath) + ')';\n    const options = JSON.stringify({\n        filename: filename\n    });\n\n    module._compile(\n        imports + '\\n' + 'module.exports = template.compile(' + options + ');',\n        filename\n    );\n};\n\nmodule.exports = extension;\n"]}